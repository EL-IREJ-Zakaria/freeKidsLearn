<?xml version="1.0" encoding="utf-8"?><!-- ========================================================================
     ACTIVITY_LETTER_TRACING.XML - Écran de traçage Candy Fun
     ========================================================================
     L'écran principal d'apprentissage où l'enfant:
     - Voit la lettre en très grand format
     - Écoute la prononciation
     - Trace avec son doigt sur le canvas magique

     Design ludique avec boutons colorés et zone de dessin attrayante.
     ======================================================================== -->
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:background="@drawable/bg_gradient_main">

    <!-- ════════════════════════════════════════════════════════════════
         SECTION 1: Header avec dégradé magique
         ════════════════════════════════════════════════════════════════ -->
    <com.google.android.material.card.MaterialCardView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        app:cardCornerRadius="0dp"
        app:cardElevation="8dp"
        app:strokeWidth="0dp">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:background="@drawable/bg_toolbar_gradient"
            android:orientation="vertical">

            <com.google.android.material.appbar.MaterialToolbar
                android:id="@+id/toolbar"
                android:layout_width="match_parent"
                android:layout_height="@dimen/toolbar_height"
                android:background="@android:color/transparent"
                app:titleTextColor="@color/white"
                app:titleCentered="true"
                app:titleTextAppearance="@style/TextAppearance.Material3.TitleLarge"
                app:navigationIconTint="@color/white"
                app:navigationIcon="@drawable/ic_arrow_back"
                app:title="@string/trace_letter" />

            <!-- Coins arrondis en bas du header -->
            <View
                android:layout_width="match_parent"
                android:layout_height="24dp"
                android:background="@drawable/bg_header_bottom_curve" />

        </LinearLayout>

    </com.google.android.material.card.MaterialCardView>

    <!-- ════════════════════════════════════════════════════════════════
         SECTION 2: Zone de dessin magique
         ════════════════════════════════════════════════════════════════ -->
    <FrameLayout
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:padding="@dimen/spacing_medium">

        <com.google.android.material.card.MaterialCardView
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            app:cardCornerRadius="28dp"
            app:cardElevation="8dp"
            app:cardBackgroundColor="@color/white"
            app:strokeWidth="4dp"
            app:strokeColor="@color/letter_outline">

            <!-- Zone de dessin personnalisée -->
            <com.example.freekidslearn.ui.DrawingView
                android:id="@+id/drawingView"
                android:layout_width="match_parent"
                android:layout_height="match_parent" />

        </com.google.android.material.card.MaterialCardView>

        <!-- Emoji crayon décoratif -->
        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_gravity="top|end"
            android:layout_margin="@dimen/spacing_large"
            android:text="\u270F\uFE0F"
            android:textSize="32sp" />

        <!-- Instruction en bas -->
        <com.google.android.material.card.MaterialCardView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_gravity="bottom|center_horizontal"
            android:layout_marginBottom="@dimen/spacing_medium"
            app:cardCornerRadius="20dp"
            app:cardElevation="4dp"
            app:cardBackgroundColor="#80FFFFFF">

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="@string/trace_instruction"
                android:textSize="14sp"
                android:textColor="@color/text_secondary"
                android:paddingHorizontal="16dp"
                android:paddingVertical="8dp" />

        </com.google.android.material.card.MaterialCardView>

    </FrameLayout>

    <!-- ════════════════════════════════════════════════════════════════
         SECTION 3: Boutons de contrôle - Design coloré et fun
         ════════════════════════════════════════════════════════════════ -->
    <com.google.android.material.card.MaterialCardView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        app:cardCornerRadius="28dp"
        app:cardElevation="8dp"
        app:cardBackgroundColor="@color/white"
        android:layout_marginHorizontal="@dimen/spacing_medium"
        android:layout_marginBottom="@dimen/spacing_medium">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:padding="@dimen/spacing_medium"
            android:gravity="center">

            <!-- Bouton Précédent - Violet -->
            <com.google.android.material.button.MaterialButton
                android:id="@+id/buttonPrevious"
                android:layout_width="0dp"
                android:layout_height="@dimen/button_height"
                android:layout_weight="1"
                android:layout_marginEnd="@dimen/spacing_small"
                android:text="\u25C0"
                android:textSize="24sp"
                android:textColor="@color/white"
                app:backgroundTint="@color/button_nav"
                app:cornerRadius="20dp"
                app:elevation="4dp"
                style="@style/Widget.Material3.Button" />

            <!-- Bouton Effacer - Rose -->
            <com.google.android.material.button.MaterialButton
                android:id="@+id/buttonClear"
                android:layout_width="0dp"
                android:layout_height="@dimen/button_height"
                android:layout_weight="1.5"
                android:layout_marginHorizontal="@dimen/spacing_small"
                android:text="@string/clear_button"
                android:textSize="@dimen/text_size_medium"
                android:textColor="@color/white"
                app:icon="@drawable/ic_clear"
                app:iconGravity="textStart"
                app:iconTint="@color/white"
                app:backgroundTint="@color/button_clear"
                app:cornerRadius="20dp"
                app:elevation="4dp"
                style="@style/Widget.Material3.Button" />

            <!-- Bouton Suivant - Cyan -->
            <com.google.android.material.button.MaterialButton
                android:id="@+id/buttonNext"
                android:layout_width="0dp"
                android:layout_height="@dimen/button_height"
                android:layout_weight="1"
                android:layout_marginStart="@dimen/spacing_small"
                android:text="\u25B6"
                android:textSize="24sp"
                android:textColor="@color/white"
                app:backgroundTint="@color/accent"
                app:cornerRadius="20dp"
                app:elevation="4dp"
                style="@style/Widget.Material3.Button" />

        </LinearLayout>

    </com.google.android.material.card.MaterialCardView>

</LinearLayout>
